<form #f="ngForm"
      ngNativeValidate
      (ngSubmit)="profile(f)">
  <div class="row">
    <div class="col">
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label for="firstName">
              First Name
            </label>
            <input id="firstName"
                  name="firstName"
                  type="text"
                  class="form-control"
                  required
                  #firstName="ngModel"
                  [(ngModel)]="model.firstName" />
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <label for="lastName">
              Last Name
            </label>
            <input id="lastName"
                  name="lastName"
                  type="text"
                  class="form-control"
                  required
                  #lastName="ngModel"
                  [(ngModel)]="model.lastName" />
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="email">
          Email
        </label>
        <div [ngClass]="{'input-group': model.emailConfirmed}">
          <input id="email"
                 name="email"
                 type="email"
                 class="form-control"
                 required
                 email
                 #email="ngModel"
                 [(ngModel)]="model.email">
          <ng-container *ngIf="model.emailConfirmed; then showEmailConfirmed; else hideEmailConfirmed">
          </ng-container>
          <ng-template #showEmailConfirmed>
            <div class="input-group-append">
              <span class="input-group-text text-success" aria-hidden="true">
                <fa-icon [icon]="['fal', 'check']"></fa-icon>
              </span>
            </div>
          </ng-template>
          <ng-template #hideEmailConfirmed>
              <button type="button"
                      (click)="sendVerificationEmail()"
                      class="btn btn-link">
                Send verification email
              </button>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="phoneNumber">
          Phone Number
        </label>
        <input id="phoneNumber"
              name="phoneNumber"
              type="tel"
              title="Format: 123-456-7890"
              pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
              #phoneNumber="ngModel"
              [(ngModel)]="model.phoneNumber"
              class="form-control"
              maxlength="12"
              minlength="12" />
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label for="streetAddress">
          Street Address
        </label>
        <input id="streetAddress"
              name="streetAddress"
              type="text"
              title="Street Address"
              #streetAddress="ngModel"
              [(ngModel)]="model.address.street_address"
              class="form-control"/>
      </div>
      <div class="form-group">
        <label for="locality">
          City
        </label>
        <input id="locality"
              name="locality"
              type="text"
              title="City"
              #locality="ngModel"
              [(ngModel)]="model.address.locality"
              class="form-control"/>
      </div>
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label for="region">
              State
            </label>
            <input id="region"
                  name="region"
                  type="text"
                  title="State"
                  #region="ngModel"
                  [(ngModel)]="model.address.region"
                  class="form-control"/>
          </div>
        </div>        
        <div class="col">
          <div class="form-group">
            <label for="postalCode">
              ZIP Code
            </label>
            <input id="postalCode"
                  name="postalCode"
                  type="text"
                  title="ZIP Code"
                  #postalCode="ngModel"
                  [(ngModel)]="model.address.postal_code"
                  class="form-control"/>
          </div>
        </div>        
      </div>
      <div class="form-group">
        <label for="country">
          Country
        </label>
        <input id="country"
              name="country"
              type="text"
              title="Country"
              #postalCode="ngModel"
              [(ngModel)]="model.address.country"
              class="form-control"/>
      </div>
    </div>
  </div>
  <button type="submit"
          class="btn btn-primary"
          [disabled]=" f.pristine || f.invalid">
    Save
  </button>
</form>
